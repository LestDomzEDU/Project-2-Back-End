server:
  port: ${PORT:8080}
  error:
    include-message: always
    include-binding-errors: always

app:
  oauth:
    enabled: ${APP_OAUTH_ENABLED:false}
  frontend-url: ${FRONTEND_URL:http://localhost:5173}

spring:
  datasource:
    # Prefer SPRING_DATASOURCE_URL if present; else fall back to JawsDB URL
    # IMPORTANT: SPRING_DATASOURCE_URL must be a JDBC URL (jdbc:mysql://...)
    url: ${SPRING_DATASOURCE_URL:${JAWSDB_URL}}
  jpa:
    hibernate:
      ddl-auto: validate
    show-sql: false
    properties:
      hibernate:
        dialect: org.hibernate.dialect.MySQL8Dialect
  flyway:
    enabled: true
    baseline-on-migrate: true
    repair-on-migrate: true
    locations: classpath:db/migration
  security:
    oauth2:
      client: {}  # placeholder while OAuth is unfinished
logging:
  level:
    org.flywaydb: DEBUG
management:
  endpoints:
    web:
      exposure:
        include: health,info,mappings

